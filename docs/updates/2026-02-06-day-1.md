# 2026-02-06 — Day 1: Ubuntu Server + SSH + Tailscale

## Goal
Bring up a baseline homelab server that we can access securely both locally and remotely, without opening any ports on the Verizon 5G Home Internet router.

## Host info
- Device: Huawei Matebook 13 (Ryzen 5 3500U, 16GB RAM, 512GB SSD)
- OS: Ubuntu Server (installed today)
- Network: Wi‑Fi only
- Remote access: SSH over Tailscale

## What we did (high level)
1. Installed Ubuntu Server on the laptop
2. Installed OpenSSH Server and enabled the SSH service
3. Verified local SSH access first
4. Installed Tailscale using the official install script
5. Joined the server to our tailnet
6. Joined our client devices (phone/laptop)
7. Invited friend to the same tailnet and confirmed their device can reach the server
8. Set up SSH keys (key-based authentication)
9. Updated laptop settings so closing the lid doesn’t stop access

## Commands / configuration notes
### OpenSSH
Common steps:
- `sudo apt update && sudo apt upgrade -y`
- `sudo apt install openssh-server -y`
- `sudo systemctl start ssh && sudo systemctl enable ssh`
- `systemctl status ssh`

## Laptop's Lid Configuration
- Disable sleep entirely
  - `sudo systemctl mask sleep.target suspend.target hibernate.target hybrid-sleep.target`
- Change the Lid settings in /etc/systemd/logind.conf
  - `HandleLidSwitch=ignore
     HandleLidSwitchExternalPower=ignore
     HandleLidSwitchDocked=ignore
     LidSwitchIgnoreInhibited=no `

### SSH keys
- Create a key on client:
  - `ssh-keygen -t ed25519`
- Add public key to server:
  - `ssh-copy-id <user>@<server>`
  - or append to `~/.ssh/authorized_keys`

### Tailscale
Installed via official script (tailscale.com install method).
- `curl -fsSL https://tailscale.com/install.sh | sh`

Common checks:
- `tailscale status`
- `tailscale ip -4`
- `sudo tailscale up`

## Verification tests
- Local SSH works (same Wi‑Fi LAN)
- Remote SSH works over Tailscale
- Access works even when lid is closed (while the machine stays powered and not sleeping)

## Known gaps / not done yet
- SSH hardening not completed yet:
  - password authentication may still be enabled
  - root login policy not confirmed
- No firewall baseline yet (UFW)

## Next steps
1. Harden SSH (disable password auth, confirm root login disabled)
2. Document exact install steps + any config file changes
3. Decide how we’ll deploy services (Docker vs something else)
